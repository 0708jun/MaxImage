/*!	
 * Maximage Version: 2.0.62 (03-Oct-2012) - http://www.aaronvanderzwan.com/maximage/2.0/
 */
(function(a){a.fn.maximage=function(d,e){var c;if(typeof d=="object"||d===undefined){c=a.extend(a.fn.maximage.defaults,d||{})}if(typeof d=="string"){c=a.fn.maximage.defaults}a.Body=a("body");a.Window=a(window);a.Scroll=(a.browser.mozilla||a.browser.msie)?a("html"):a.Body;a.Events={RESIZE:"resize"};this.each(function(){var m=a(this),f=0,j=[];var i={setup:function(){if(a.Slides.length>0){for(var q in a.Slides){var p=a.Slides[q];m.append('<div class="mc-image '+p.theclass+'" title="'+p.alt+'" style="background-image:url(\''+p.url+"');"+p.style+'" data-href="'+p.datahref+'">'+p.content+"</div>")}i.preload(0);i.resize()}},preload:function(q){var p=a("<img/>");p.load(function(){if(f==0){g.setup();c.onFirstImageLoaded()}if(f==(a.Slides.length-1)){c.onImagesLoaded()}else{f++;i.preload(f)}});p[0].src=a.Slides[q].url;j.push(p[0])},resize:function(){a.Window.bind(a.Events.RESIZE,function(){a.Scroll.addClass("mc-hide-scrolls");a.Window.data("h",k.sizes().h).data("w",k.sizes().w);m.height(a.Window.data("h")).width(a.Window.data("w")).children().height(a.Window.data("h")).width(a.Window.data("w"));m.children().each(function(){this.cycleH=a.Window.data("h");this.cycleW=a.Window.data("w")});a(a.Scroll).removeClass("mc-hide-scrolls")})}};var h={setup:function(){var r,p;a.Body.addClass("mc-old-browser").addClass("mc-browserversion-"+a.browser.version.split(".")[0]);if(a.Slides.length>0){for(var q in a.Slides){m.append(a("<div>"+a.Slides[q].content+"</div>").attr("class","mc-image mc-image-n"+q))}a.Window.data("h",k.sizes().h).data("w",k.sizes().w);a("body").append(a("<div></div>").attr("class","mc-loader").css({position:"absolute",left:"-99999px;"}));h.preload();h.windowResize()}},preload:function(p){if(a.Slides.length>0){for(var s in a.Slides){var r=a("<img/>");r.load(function(){var q=a(this);q.appendTo(a("div.mc-loader"));q.show();q.data("h",q.height()).data("w",q.width()).data("ar",(q.width()/q.height()));q.prependTo(a("div.mc-image-n"+s));a("div.mc-loader").html("");if(s==(a.Slides.length-1)){a("div.mc-loader").remove();alert("here = "+a.Slides[s].url);c.onImagesLoaded()}h.onceLoaded(s)});r[0].src=a.Slides[s].url}}},onceLoaded:function(p){h.maximage(p);if(p==0){m.css({visibility:"visible"});g.setup();c.onFirstImageLoaded()}},maximage:function(q){a("div.mc-image-n"+q).height(a.Window.data("h")).width(a.Window.data("w")).children("img").first().each(function(){n.maxcover(a(this))})},windowResize:function(){a.Window.bind(a.Events.RESIZE,function(){clearTimeout(this.id);this.id=setTimeout(h.doneResizing,200)})},doneResizing:function(){a(a.Scroll).addClass("mc-hide-scrolls");a.Window.data("h",k.sizes().h).data("w",k.sizes().w);m.height(a.Window.data("h")).width(a.Window.data("w"));m.find(".mc-image").each(function(q){h.maximage(q)});var p=m.data("cycle.opts");p.height=a.Window.data("h");p.width=a.Window.data("w");jQuery.each(p.elements,function(q,r){r.cycleW=a.Window.data("w");r.cycleH=a.Window.data("h")});a(a.Scroll).removeClass("mc-hide-scrolls")}};var g={setup:function(){var q,p;m.addClass("mc-cycle");a.Window.data("h",k.sizes().h).data("w",k.sizes().w);jQuery.easing.easeForCSSTransition=function(v,w,u,A,z,y){return u+A};var r=a.extend({fit:1,containerResize:0,height:a.Window.data("h"),width:a.Window.data("w"),slideResize:false,easing:(a.BrowserTests.cssTransitions&&c.cssTransitions?"easeForCSSTransition":"swing")},c.cycleOptions);m.cycle(r)}};var n={center:function(p){p.css({marginTop:((p.height()-a.Window.data("h"))/2)*-1}).css({marginLeft:((p.width()-a.Window.data("w"))/2)*-1})},fill:function(p){var q=p.is("object")?p.parents("video").first():p;if(typeof c.backgroundSize=="function"){c.backgroundSize(p)}else{if(c.backgroundSize=="cover"){if(a.Window.data("w")/a.Window.data("h")<q.data("ar")){p.height(a.Window.data("h")).width((a.Window.data("h")*q.data("ar")).toFixed(0))}else{p.height((a.Window.data("w")/q.data("ar")).toFixed(0)).width(a.Window.data("w"))}}else{if(c.backgroundSize=="contain"){if(a.Window.data("w")/a.Window.data("h")<q.data("ar")){p.height((a.Window.data("w")/q.data("ar")).toFixed(0)).width(a.Window.data("w"))}else{p.height(a.Window.data("h")).width((a.Window.data("h")*q.data("ar")).toFixed(0))}}else{if(console.log){console.log("The backgroundSize option was not recognized for older browsers.")}}}}},maxcover:function(p){n.fill(p);n.center(p)},maxcontain:function(p){n.fill(p);n.center(p)}};var k={browser_tests:function(){var q=a("<div />")[0],u=["Moz","Webkit","Khtml","O","ms"],t="transition",s={cssTransitions:false,cssBackgroundSize:("backgroundSize" in q.style&&c.cssBackgroundSize)};if(c.cssTransitions){if(typeof q.style[t]=="string"){s.cssTransitions=true}t=t.charAt(0).toUpperCase()+t.substr(1);for(var r=0;r<u.length;r++){if(u[r]+t in q.style){s.cssTransitions=true}}}return s},construct_slide_object:function(){var r=new Object(),p=new Array(),q="";m.children().each(function(){var s=a(this).is("img")?a(this).clone():a(this).find("img").first().clone();r={};r.url=s.attr("src");r.title=s.attr("title")!=undefined?s.attr("title"):"";r.alt=s.attr("alt")!=undefined?s.attr("alt"):"";r.theclass=s.attr("class")!=undefined?s.attr("class"):"";r.styles=s.attr("style")!=undefined?s.attr("style"):"";r.orig=s.clone();r.datahref=s.attr("data-href")!=undefined?s.attr("data-href"):"";r.content="";if(a(this).find("img").length>0){a(this).find("img").first().remove();r.content=a(this).html()}s.attr("src","");a(this).remove();p.push(r)});return p},sizes:function(){var p={h:0,w:0};if(c.fillElement=="window"){p.h=a.Window.height();p.w=a.Window.width()}else{$fillElement=m.parents(c.fillElement).first();if($fillElement.height()==0||$fillElement.data("windowHeight")==true){$fillElement.data("windowHeight",true);p.h=a.Window.height()}else{p.h=$fillElement.height()}if($fillElement.width()==0||$fillElement.data("windowWidth")==true){$fillElement.data("windowWidth",true);p.w=a.Window.width()}else{p.w=$fillElement.width()}}return p}};if(typeof d=="string"){var l,o=m.is("object")?m.parents("video").first():m;a.Window.data("h",k.sizes().h).data("w",k.sizes().w);o.data("h",m.height()).data("w",m.width()).data("ar",m.width()/m.height());a.Window.bind(a.Events.RESIZE,function(){a.Window.data("h",k.sizes().h).data("w",k.sizes().w);l=m.data("resizer");clearTimeout(l);l=setTimeout(n[d](m),200);m.data("resizer",l)});n[d](m)}else{a.Slides=k.construct_slide_object();a.BrowserTests=k.browser_tests();if(a.BrowserTests.cssBackgroundSize){i.setup()}else{h.setup()}}});function b(f){if(window.console&&window.console.log){window.console.log(f)}}};a.fn.maximage.defaults={cssBackgroundSize:true,cssTransitions:true,verticalCenter:true,horizontalCenter:true,scaleInterval:20,backgroundSize:"cover",fillElement:"window",onFirstImageLoaded:function(){},onImagesLoaded:function(){}}})(jQuery);