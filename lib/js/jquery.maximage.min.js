/*!	
 * Maximage Version: 2.0.4 (24-July-2012) - http://www.aaronvanderzwan.com/maximage/2.0/
 */
(function(a){a.fn.maximage=function(d){var c={cssBackgroundSize:true,cssTransitions:true,verticalCenter:true,horizontalCenter:true,scaleInterval:20,backgroundSize:"cover",fillElement:"window",onFirstImageLoaded:function(){},onImagesLoaded:function(){}};if(d){a.extend(c,d)}a.Body=a("body");a.Window=a(window);a.Scroll=(a.browser.mozilla||a.browser.msie)?a("html"):a.Body;a.Events={RESIZE:"resize"};this.each(function(j){var n=a(this),e=0,f=true,m=[];var k={setup:function(){if(a.Slides.length>0){for(var q in a.Slides){var p=a.Slides[q];n.append('<div class="mc-image '+p.theclass+'" title="'+p.alt+'" style="background-image:url(\''+p.url+"');"+p.style+'" data-href="'+p.datahref+'">'+p.content+"</div>")}k.preload(0);k.resize()}},preload:function(p){var i=a("<img/>");i.load(function(){if(e==0){g.setup();c.onFirstImageLoaded()}if(e==(a.Slides.length-1)){c.onImagesLoaded()}else{e++;k.preload(e)}});i[0].src=a.Slides[p].url;m.push(i[0])},resize:function(){a.Window.bind(a.Events.RESIZE,function(){a.Scroll.addClass("mc-hide-scrolls");a.Window.data("h",l.sizes().h).data("w",l.sizes().w);n.height(a.Window.data("h")).width(a.Window.data("w")).children().height(a.Window.data("h")).width(a.Window.data("w"));n.children().each(function(){this.cycleH=a.Window.data("h");this.cycleW=a.Window.data("w")});a(a.Scroll).removeClass("mc-hide-scrolls")})}};var h={setup:function(){var q,i;a.Body.addClass("mc-old-browser").addClass("mc-browserversion-"+a.browser.version.split(".")[0]);if(a.Slides.length>0){for(var p in a.Slides){n.append(a("<div>"+a.Slides[p].content+"</div>").attr("class","mc-image mc-image-n"+p));a.Window.data("h",l.sizes().h).data("w",l.sizes().w)}a("body").append(a("<div></div>").attr("class","mc-loader").css({position:"absolute",left:"-99999px;"}));h.preload(0);h.windowResize()}},preload:function(i){var p=a("<img/>");p.load(function(){var q=a(this);q.appendTo(a("div.mc-loader"));q.show();q.data("h",q.height()).data("w",q.width()).data("ar",(q.width()/q.height()));q.prependTo(a("div.mc-image-n"+i));a("div.mc-loader").html();if(e==(a.Slides.length-1)){a("div.mc-loader").remove();c.onImagesLoaded();h.onceLoaded(e)}else{h.onceLoaded(e);e++;h.preload(e)}});p[0].src=a.Slides[i].url},onceLoaded:function(i){h.maximage(i);if(i==0){n.css({visibility:"visible"});g.setup();c.onFirstImageLoaded()}},maximage:function(i){a("div.mc-image-n"+i).height(a.Window.data("h")).width(a.Window.data("w")).children("img").first().each(function(){h.scaleBG(a(this))})},scaleBG:function(i){if(c.backgroundSize=="cover"){if(a.Window.data("w")/a.Window.data("h")<i.data("ar")){i.height(a.Window.data("h")).width((a.Window.data("h")*i.data("ar")).toFixed(0))}else{i.height((a.Window.data("w")/i.data("ar")).toFixed(0)).width(a.Window.data("w"))}}else{if(c.backgroundSize=="contain"){if(a.Window.data("w")/a.Window.data("h")<i.data("ar")){i.height((a.Window.data("w")/i.data("ar")).toFixed(0)).width(a.Window.data("w"))}else{i.height(a.Window.data("h")).width((a.Window.data("h")*i.data("ar")).toFixed(0))}}else{alert("The backgroundSize option was not recognized for older browsers.")}}h.centerBG(i)},centerBG:function(i){if(c.verticalCenter&&i.width()==a.Window.data("w")){i.css({"margin-top":((i.height()-a.Window.data("h"))/2)*-1,marginLeft:0})}if(c.horizontalCenter&&i.height()==a.Window.data("h")){i.css({marginLeft:((i.width()-a.Window.data("w"))/2)*-1,marginTop:0})}},windowResize:function(){a.Window.bind(a.Events.RESIZE,function(){clearTimeout(this.id);this.id=setTimeout(h.doneResizing,200)})},doneResizing:function(){a(a.Scroll).addClass("mc-hide-scrolls");a.Window.data("h",l.sizes().h).data("w",l.sizes().w);n.height(a.Window.data("h")).width(a.Window.data("w"));n.find(".mc-image").each(function(p){h.maximage(p)});var i=n.data("cycle.opts");i.height=a.Window.data("h");i.width=a.Window.data("w");jQuery.each(i.elements,function(p,q){q.cycleW=a.Window.data("w");q.cycleH=a.Window.data("h")});a(a.Scroll).removeClass("mc-hide-scrolls")}};var g={setup:function(){var p,i;n.addClass("mc-cycle");a.Window.data("h",l.sizes().h).data("w",l.sizes().w);jQuery.easing.easeForCSSTransition=function(u,v,r,z,y,w){return r+z};var q=a.extend(d.cycleOptions,{fit:1,containerResize:0,height:a.Window.data("h"),width:a.Window.data("w"),slideResize:false,easing:(a.Maximage.cssTransitions?"easeForCSSTransition":"swing")});n.cycle(q)}};var o={wait:function(){f=false},start:function(){setTimeout(function(){o.reset()},c.scaleInterval)},reset:function(){f=true},isReady:function(){return f}};var l={browser_tests:function(){var q=a("<div />")[0],u=["Moz","Webkit","Khtml","O","ms"],t="transition",s={cssTransitions:false,cssBackgroundSize:("backgroundSize" in q.style&&c.cssBackgroundSize)};if(c.cssTransitions){if(typeof q.style[t]=="string"){s.cssTransitions=true}t=t.charAt(0).toUpperCase()+t.substr(1);for(var r=0;r<u.length;r++){if(u[r]+t in q.style){s.cssTransitions=true}}}return s},construct_slide_object:function(){var q=new Object(),i=new Array(),p="";n.children().each(function(){$img=a(this).is("img")?a(this).clone():a(this).find("img").first().clone();q={};q.url=$img.attr("src");q.title=$img.attr("title")!=undefined?$img.attr("title"):"";q.alt=$img.attr("alt")!=undefined?$img.attr("alt"):"";q.theclass=$img.attr("class")!=undefined?$img.attr("class"):"";q.styles=$img.attr("style")!=undefined?$img.attr("style"):"";q.orig=$img.clone();q.datahref=$img.attr("data-href")!=undefined?$img.attr("data-href"):"";q.content="";if(a(this).find("img").length>0){a(this).find("img").first().remove();q.content=a(this).html()}$img.attr("src","");a(this).remove();i.push(q)});return i},sizes:function(){var i={h:0,w:0};if(c.fillElement=="window"){i.h=a.Window.height();i.w=a.Window.width()}else{$fillElement=n.parents(c.fillElement).first();if($fillElement.height()==0||$fillElement.data("windowHeight")==true){$fillElement.data("windowHeight",true);i.h=a.Window.height()}else{i.h=$fillElement.height()}if($fillElement.width()==0||$fillElement.data("windowWidth")==true){$fillElement.data("windowWidth",true);i.w=a.Window.width()}else{i.w=$fillElement.width()}}return i}};a.Slides=l.construct_slide_object();a.Maximage=l.browser_tests();if(a.Maximage.cssBackgroundSize){k.setup()}else{h.setup()}});function b(e){if(window.console&&window.console.log){window.console.log(e)}}}})(jQuery);